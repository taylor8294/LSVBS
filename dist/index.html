<!doctype html>
<html>
    <head>
        <style>
            @font-face {
                font-family: "Sky Text";
                font-display: fallback;
                src: local("Sky Text"),
                    url("./static/WA8/vbs/font/sky-regular.woff2") format("woff2"),
                    url("./static/WA8/vbs/font/sky-regular.woff") format("woff");
            }
            body,
            html {
                margin: 0px;
                height: 100%;
            }
            .video-statement-data-table{
                display:block;
                position: absolute;
                left: -10000px;
                width: 1px;
                height: 1px;
                top: auto;
                overflow: hidden;
                clip: rect(1px, 1px, 1px, 1px);
                clip-path: inset(50%);
                margin: -1px;
                padding: 0;
            }
            .video-statement-wrap {
                margin: 0 auto;
                width: 100%;
                max-width: 500px;
                position: relative;
            }
            .video-statement-wrap canvas {
                width: 100%;
                height: 100%;
            }
            .video-statement-wrap canvas.video-statement-debug {
                position: absolute;
                top: -4px;
                left: 0;
                pointer-events: none
            }
            .video-statement-wrap .video-statement-cc-wrap {
                position: absolute;
                left: 0;
                bottom: 2em;
                text-align: center;
                width: 100%;
            }
            .video-statement-wrap .video-statement-cc {
                background:#000;
                background: rgba(0,0,0,0.75);
                color: white;
                padding:0.2em 0.5em;
                line-height:1.95em;
                font-family: "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Geneva, Verdana, sans-serif;
                -webkit-box-decoration-break: clone;
                box-decoration-break: clone;
            }
            .video-statement-wrap .video-statement-controls {
                left: 0;
                bottom: 0;
                width: 100%;
                transition: all 0.2s ease;
                background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.5));
                opacity: 0.4;
            }
            .video-statement-wrap .video-statement-controls:hover {
                opacity: 1;
            }
            .video-statement-controls td {
                -webkit-touch-callout: none; /* iOS Safari */
                    -webkit-user-select: none; /* Safari */
                    -khtml-user-select: none; /* Konqueror HTML */
                    -moz-user-select: none; /* Old versions of Firefox */
                        -ms-user-select: none; /* Internet Explorer/Edge */
                            user-select: none; /* Non-prefixed version, currently
                                                supported by Chrome, Opera and Firefox */
            }
            .video-statement-controls .video-statement-pause-wrap {
                width:2em;
                text-align: center;
            }
            .video-statement-pause {
                cursor: pointer;
                border:0;
                min-height: 1em;
                min-width: 100%;
                background: url(./static/WA8/vbs/img/pause.png);
                background-size: contain;
                background-repeat: no-repeat;
                background-position: center;
            }
            .video-statement-pause.play {
                background: url(./static/WA8/vbs/img/play.png);
                background-size: contain;
                background-repeat: no-repeat;
                background-position: center;
            }
            .video-statement-controls .video-statement-time {
                color: #fff;
                width:7em;
                text-align: center;
            }
            .video-statement-controls .video-statement-progress-wrap {
                height:2px;
                background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.5));
            }
            .video-statement-controls .video-statement-progress {
                width:0%;
                height:2px;
                background: #fff;
            }
            .video-statement-controls .video-statement-cc-button-wrap {
                width:2em;
                text-align: center;
                cursor: pointer;
            }
            .video-statement-controls .video-statement-cc-button {
                color:rgba(0, 0, 0, 0.3);
                background:transparent;
                border:0;
                cursor: pointer;
            }
            .video-statement-dimmer {
                position: fixed;
                top: 0px;
                bottom: 0px;
                right: 0px;
                left: 0px;
                background: rgba(0,0,0,0.67);
                z-index: 98;
            }

            /* Only for demo */
            .video-statement-data-table th {
                text-align:left;
            }
            .video-statement-data-table td b {
                display:none
            }
        </style>
    </head>
    <body>
        <div class="video-statement-wrap">
            <table id="video-statement-data-table-1" class="columns-2 ruler video-statement-data-table" style="position: initial; left: initial; width: initial; height: initial; top: initial; overflow: initial; clip: initial; clip-path: initial; margin: initial; padding: initial;">
                <thead>
                    <tr>
                        <th class="col1 cell-string">Label</th>
                        <th class="col2 last cell-string">Data</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="col1 cell-string"><b>Label</b><span>Scheme code</span></td>
                        <td class="col2 cell-currency"><b>Data</b><span contenteditable="true">0001</span></td>
                    </tr>
                    <tr>
                        <td class="col1 cell-string"><b>Label</b><span>Category</span></td>
                        <td class="col2 cell-currency"><b>Data</b><span contenteditable="true">0001</span></td>
                    </tr>
                    <tr>
                        <td class="col1 cell-string"><b>Label</b><span>Member name</span></td>
                        <td class="col2 cell-currency"><b>Data</b><span contenteditable="true">Alex Taylor</span></td>
                    </tr>
                    <tr>
                        <td class="col1 cell-string"><b>Label</b><span>Employer</span></td>
                        <td class="col2 cell-currency"><b>Data</b><span contenteditable="true">Sky</span></td>
                    </tr>
                    <tr>
                        <td class="col1 cell-string"><b>Label</b><span>Beneficiaries</span></td>
                        <td class="col2 cell-currency"><b>Data</b><span contenteditable="true">false</span></td>
                    </tr>
                    <tr>
                        <td class="col1 cell-string"><b>Label</b><span>Balance</span></td>
                        <td class="col2 cell-currency"><b>Data</b><span contenteditable="true"></span></td>
                    </tr>
                    <tr>
                        <td class="col1 cell-string"><b>Label</b><span>Start date</span></td>
                        <td class="col2 cell-currency"><b>Data</b><span contenteditable="true">05/04/2019</span></td>
                    </tr>
                    <tr>
                        <td class="col1 cell-string"><b>Label</b><span>Start balance</span></td>
                        <td class="col2 cell-currency"><b>Data</b><span contenteditable="true">100112</span></td>
                    </tr>
                    <tr>
                        <td class="col1 cell-string"><b>Label</b><span>Bulk transfers</span></td>
                        <td class="col2 cell-currency"><b>Data</b><span contenteditable="true">33111</span></td>
                    </tr>
                    <tr>
                        <td class="col1 cell-string"><b>Label</b><span>Transfers</span></td>
                        <td class="col2 cell-currency"><b>Data</b><span contenteditable="true">4555</span></td>
                    </tr>
                    <tr>
                        <td class="col1 cell-string"><b>Label</b><span>Withdrawals</span></td>
                        <td class="col2 cell-currency"><b>Data</b><span contenteditable="true">-15401</span></td>
                    </tr>
                    <tr>
                        <td class="col1 cell-string"><b>Label</b><span>Employee contributions</span></td>
                        <td class="col2 cell-currency"><b>Data</b><span contenteditable="true">6154</span></td>
                    </tr>
                    <tr>
                        <td class="col1 cell-string"><b>Label</b><span>Employer contributions</span></td>
                        <td class="col2 cell-currency"><b>Data</b><span contenteditable="true">9455</span></td>
                    </tr>
                    <tr>
                        <td class="col1 cell-string"><b>Label</b><span>Investment return</span></td>
                        <td class="col2 cell-currency"><b>Data</b><span contenteditable="true">5233</span></td>
                    </tr>
                    <tr>
                        <td class="col1 cell-string"><b>Label</b><span>Charges</span></td>
                        <td class="col2 last cell-currency"><b>Data</b><span contenteditable="true">-549</span></td>
                    </tr>
                    <tr>
                        <td class="col1 cell-string"><b>Label</b><span>End balance</span></td>
                        <td class="col2 last cell-currency"><b>Data</b><span contenteditable="true">0</span></td>
                    </tr>
                    <tr>
                        <td class="col1 cell-string"><b>Label</b><span>End date</span></td>
                        <td class="col2 last cell-currency"><b>Data</b><span contenteditable="true">05/04/2020</span></td>
                    </tr>
                    <tr>
                        <td class="col1 cell-string"><b>Label</b><span>Benefit Statement URL</span></td>
                        <td class="col2 cell-currency"><b>Data</b><span contenteditable="true">/index.html</span></td>
                    </tr>
                </tbody>
            </table>
            <button id="video-statement-build-button">Build</button>
        </div>
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <script src="//pixijs.download/v5.2.0/pixi-legacy.min.js"></script>
        <!-- <script src="//pixijs.io/examples/pixi-plugins/pixi-layers.js"></script> -->
        <!-- <script src="./static/WA8/vbs/js/GSDevTools.min.js"></script> -->
        <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/plugins/PixiPlugin.min.js"></script>
        <script src="./static/WA8/vbs/js/box2dweb.min.js"></script>
        <!--script src="./static/WA8/vbs/js/gapi.js"></script-->
        <script src="//apis.google.com/js/api.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/howler/2.1.2/howler.min.js"></script>
        <script src="./VideoStatement.js"></script>
        <script>
          $('#video-statement-build-button').click(function(e){
            $('.video-statement-data-table').removeAttr('style');
            $(this).css('display','none');
            window.videoStatement = new VideoStatement({
                /*"user":{scheme:1,name:"Alex"},
                "data":{
                        startDate: 0,
                        endDate: 365,
                        startBalance: 0,
                        transfers: 0,
                        withdrawals: 0,
                        contributionsEE: 0,
                        contributionsER: 0,
                        return: 0,
                        charges: 0,
                        endBalance: 0,
                        benStatLink: ""
                },*/
                "dataTable": "",
                "currency": "",
                "currencySymbol": undefined,
                "currencyName": undefined,
                //TODO "decimalPlaces": 0,
                "id": "",
                "title": "",
                "wrap": "",
                "autoplay": true,
                "pauseOnBlur": undefined,
                "dim": undefined,
                "dimInPoint": undefined,
                "dimOutPoint": undefined,
                "dimDuration": undefined,
                "debug": true,
                "matomo": {
                "trackerName": "",
                },
                "pixi": {
                // "width": 0,
                // "height": 0,
                // "scale": 40,
                // "margin": 0.1,
                "backgroundColor": "#eeeeee",
                "fontFamily": ["Sky Text", "Helvetica", "Arial", "sans-serif !default;"],
                "fontSize": 0,
                "fill": [ '#f57815', '#cc3300', '#a02084', '#5b287e', '#234ea7' ],
                "fillGradientStops": [0, 0.25, 0.50, 0.75, 1],
                //"fillGradientType": undefined,
                //"webfontSizeCheck": "<6000",
                "resources": {
                    "loading": undefined,
                    //"play": undefined,
                    //"video": "./static/WA8/vbs/video/intro.mp4",
                    "logo": "./static/WA8/vbs/img/logo.png",
                    "speakerSheet": "./static/WA8/vbs/img/speakerSheet.json",
                    "jar": "./static/WA8/vbs/img/jar.png",
                    "goldCoin":"./static/WA8/vbs/img/coin.png",
                    "interactive":"./static/WA8/vbs/img/interactive.png",
                    "purpleCoin":"./static/WA8/vbs/img/purpleCoin.png",
                    "greenCoin":"./static/WA8/vbs/img/greenCoin.png",
                    "beneficiaries": "./static/WA8/vbs/img/beneficiaries.png",
                    "beneficiariesHand": "./static/WA8/vbs/img/beneficiariesHand.png",
                },
                // "loadingSteps": undefined,
                // "loadingWidth": undefined,
                // "loadingRotationTime": undefined
                //"primaryColor": "#711984",
                //"secondaryColor": "#390B43",
                },
                "box2d": {
                "boundary": undefined
                },
                "mouse": {},
                "audio": {
                "music": "./static/WA8/vbs/audio/music.mp3",
                "musicVolume": undefined,
                "musicInTime": undefined,
                "musicOutTime": undefined,
                "speechVolume": undefined,
                "gapi": {
                    "k": "\x41\x49\x7A\x61\x53\x79\x44\x41\x65-\x78\x66\x49\x58\x63\x57\x30\x4F\x36\x44_0_\x57\x70\x55\x6D\x33\x46\x33\x52\x58\x6F\x48\x36\x71\x6D\x32\x73",
                    "languageCode": undefined,
                    "voice": undefined,
                    "gender": undefined,
                    "speakingRate": undefined,
                    "pitch": undefined,
                    "volumeGainDb": undefined,
                    "effectsProfileId": undefined, //[],
                    //"sampleRateHertz": undefined
                },
                "ccOn": true
                },
                "scenes": {
                //"enabled": ["logoStart","intro","tableStart","jarIn","startBalanceIn","transfersIn","withdrawalsOut","eeContsIn","erContsIn","returnIn","returnOut","endBalance","tableEnd","beneficiaries","jarEnd"],
                //"disabled": ["videoStart","chargesOut"],
                //"list": ["logoStart","intro","tableStart","jarIn","startBalanceIn","transfersIn","withdrawalsOut","eeContsIn","erContsIn","returnIn","returnOut","endBalance","tableEnd","beneficiaries","jarEnd"],
                "logoSize": 'auto',
                "logoSubtitle": 'My Sky Rewards',
                "logoSubtitlePosition": 'bottom',
                //"logoScale": [0.8,1.2],
                // "showSpeaker": false,
                //"speakerColor": "",
                //"introColor": "#333333",
                //"tableHeaderBg": "", //(or rgba(100,100,100,0.5) although currently alpha will be ignored)
                //"tableHeaderColor": "",
                //"tableHeaderFont": [],
                //"tableHeaderFontSize": "",
                "tableRowBg": "#ffffff",
                //"tableRowFont": [],
                //"tableRowFontSize": "",
                // TODO "tableFooterColor": "#ffffff", //currently same as header
                //"startBalanceTableString": "Balance as at #startDate#", // #startDate# will be replaced
                //"transfersTableString": "Transfers",
                //"withdrawalsTableString": "Withdrawals",
                //"employeeContributionsTableString": "#possessive# contributions", // #s will be replaced with possesive name if available, failling back to the text inbetween
                //"employerContributionsTableString": "#employerPossessive# contributions", // #s will be replaced with possesive employer name if available, failling back to the text inbetween
                //"investmentReturnTableString": "Investment return",
                //"chargesTableString": "Charges and fees", 
                //"endBalanceTableString": "Balance as at #endDate#", // #endDate# will be replaced
                "jarLabelColor": "#575757",
                //"jarLabelFont": ["Segoe UI","Frutiger","Frutiger Linotype","Dejavu Sans","Helvetica Neue","Tahoma","Verdana","Segoe","sans-serif"],
                //"jarLabelFontSize": "",
                //"jarFigureColor": "",
                //"jarFigureFont": [],
                //"jarFigureFontSize": "",
                //"jarFigureLabelColor": "",
                //"jarFigureLabelFont": [],
                //"jarFigureLabelFontSize": "",
                //"labelJarString": "#possessive# Pension Account",
                //"startBalanceJarString": "Starting balance",
                //"transfersJarString": "Transferred in",
                //"withdrawalsJarString": "Withdrawn",
                //"employeeContributionsJarString": "#possessive# contributions", // #s will be replaced with possesive name if available, failling back to the text inbetween
                //"employerContributionsJarString": "#employerPossessive# contributions", // #s will be replaced with possesive employer name if available, failling back to the text inbetween
                //"investmentReturnJarString": "Investment return",
                //"chargesJarString": "Charges and fees",
                //"showTooltip": false,
                //"tooltipBg": "",
                //"tooltipBgAlpha": 1,
                //"tooltipBorderColor": "",
                //"tooltipBorderWidth": 0,
                "tooltipColor": "#333",
                //"tooltipFont": "",
                //"tooltipFontSize": "",
                // TODO "isInteractive": false,
                // TODO "showInteractive": false,
                //"startBalanceColor": "",
                //"startBalanceImage": "goldCoin",
                //"transfersColor": "#ffb81c",
                //"transfersImage": "purpleCoin",
                //"employeeContsColor": "#c010a0",
                //"employeeContsImage": "greenCoin",
                "taxRelief": false,
                //"employerContsColor": "#009fd2",
                //"investmentReturnColor": "#702082",
                // TODO "showTransfers": 1, // instead of enabling/disabling scenes use flags like this?
                // TODO "showEmployeeConts": 1,
                // TODO "showEmployerConts": 1,
                // TODO "showInvestmentReturn": 1,
                // TODO "showCharges": 1, // does this internally anyway based on if charges scene is enabled
                //"beneficiariesColor": "",
                //"buttonFont": [],
                "buttonFontSize": "",
                "buttonTextColor": "#ffffff",
                //"buttonBgColor": "#f68121",
                // TODO "buttonHoverBgColor": "#f68121",
                "buttonString": "Take me to my full statement",
                "buttonPosition": "bottom"
                }
            });
          });
        </script>
    </body>
</html>